{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Yashasvi/Desktop/Yashasvi/expense_trackerr/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/Yashasvi/Desktop/Yashasvi/expense_trackerr/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Yashasvi/Desktop/Yashasvi/expense_trackerr/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Yashasvi/Desktop/Yashasvi/expense_trackerr/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import axios from'axios';//const BASE_URL = \"http://localhost:3000/api/v1/\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";var BASE_URL=\"https://expense-tracker-backend-53ct.onrender.com/\";var GlobalContext=/*#__PURE__*/React.createContext();export var GlobalProvider=function GlobalProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),incomes=_useState2[0],setIncomes=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),expenses=_useState4[0],setExpenses=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];//calculate incomes\nvar addIncome=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(income){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"\".concat(BASE_URL,\"add-income\"),income);case 3:response=_context.sent;console.log(\"Response  :  \",response);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);setError(_context.t0.response.data.message);case 10:getIncomes();case 11:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function addIncome(_x){return _ref2.apply(this,arguments);};}();var getIncomes=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"\".concat(BASE_URL,\"get-incomes\"));case 2:response=_context2.sent;setIncomes(response.data);console.log(response.data);case 5:case\"end\":return _context2.stop();}},_callee2);}));return function getIncomes(){return _ref3.apply(this,arguments);};}();var deleteIncome=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){var res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(\"\".concat(BASE_URL,\"delete-income/\").concat(id));case 2:res=_context3.sent;getIncomes();case 4:case\"end\":return _context3.stop();}},_callee3);}));return function deleteIncome(_x2){return _ref4.apply(this,arguments);};}();var totalIncome=function totalIncome(){var totalIncome=0;incomes.forEach(function(income){totalIncome=totalIncome+income.amount;});return totalIncome;};//calculate incomes\nvar addExpense=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(income){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.post(\"\".concat(BASE_URL,\"add-expense\"),income).catch(function(err){setError(err.response.data.message);});case 2:response=_context4.sent;getExpenses();case 4:case\"end\":return _context4.stop();}},_callee4);}));return function addExpense(_x3){return _ref5.apply(this,arguments);};}();var getExpenses=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var response;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.get(\"\".concat(BASE_URL,\"get-expenses\"));case 2:response=_context5.sent;setExpenses(response.data);console.log(response.data);case 5:case\"end\":return _context5.stop();}},_callee5);}));return function getExpenses(){return _ref6.apply(this,arguments);};}();var deleteExpense=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(id){var res;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return axios.delete(\"\".concat(BASE_URL,\"delete-expense/\").concat(id));case 2:res=_context6.sent;getExpenses();case 4:case\"end\":return _context6.stop();}},_callee6);}));return function deleteExpense(_x4){return _ref7.apply(this,arguments);};}();var totalExpenses=function totalExpenses(){var totalIncome=0;expenses.forEach(function(income){totalIncome=totalIncome+income.amount;});return totalIncome;};var totalBalance=function totalBalance(){return totalIncome()-totalExpenses();};var transactionHistory=function transactionHistory(){var history=[].concat(_toConsumableArray(incomes),_toConsumableArray(expenses));history.sort(function(a,b){return new Date(b.createdAt)-new Date(a.createdAt);});return history.slice(0,3);};return/*#__PURE__*/_jsx(GlobalContext.Provider,{value:{addIncome:addIncome,getIncomes:getIncomes,incomes:incomes,deleteIncome:deleteIncome,expenses:expenses,totalIncome:totalIncome,addExpense:addExpense,getExpenses:getExpenses,deleteExpense:deleteExpense,totalExpenses:totalExpenses,totalBalance:totalBalance,transactionHistory:transactionHistory,error:error,setError:setError},children:children});};export var useGlobalContext=function useGlobalContext(){return useContext(GlobalContext);};","map":{"version":3,"names":["React","useContext","useState","axios","BASE_URL","GlobalContext","createContext","GlobalProvider","children","incomes","setIncomes","expenses","setExpenses","error","setError","addIncome","income","post","response","console","log","data","message","getIncomes","get","deleteIncome","id","delete","res","totalIncome","forEach","amount","addExpense","catch","err","getExpenses","deleteExpense","totalExpenses","totalBalance","transactionHistory","history","sort","a","b","Date","createdAt","slice","useGlobalContext"],"sources":["C:/Users/Yashasvi/Desktop/Yashasvi/expense_trackerr/frontend/src/context/globalContext.js"],"sourcesContent":["import React, { useContext, useState } from \"react\"\r\nimport axios from 'axios'\r\n\r\n\r\n//const BASE_URL = \"http://localhost:3000/api/v1/\";\r\nconst BASE_URL=\"https://expense-tracker-backend-53ct.onrender.com/\";\r\n\r\n\r\nconst GlobalContext = React.createContext()\r\n\r\nexport const GlobalProvider = ({children}) => {\r\n\r\n    const [incomes, setIncomes] = useState([])\r\n    const [expenses, setExpenses] = useState([])\r\n    const [error, setError] = useState(null)\r\n\r\n    //calculate incomes\r\n    const addIncome = async (income) => {\r\n        try{const response = await axios.post(`${BASE_URL}add-income`, income)\r\n      console.log(\"Response  :  \", response);\r\n            \r\n            }catch(err){\r\n                setError(err.response.data.message)\r\n            }\r\n        getIncomes()\r\n    }\r\n\r\n    const getIncomes = async () => {\r\n        const response = await axios.get(`${BASE_URL}get-incomes`)\r\n        setIncomes(response.data)\r\n        console.log(response.data)\r\n    }\r\n\r\n    const deleteIncome = async (id) => {\r\n        const res  = await axios.delete(`${BASE_URL}delete-income/${id}`)\r\n        getIncomes()\r\n    }\r\n\r\n    const totalIncome = () => {\r\n        let totalIncome = 0;\r\n        incomes.forEach((income) =>{\r\n            totalIncome = totalIncome + income.amount\r\n        })\r\n\r\n        return totalIncome;\r\n    }\r\n\r\n\r\n    //calculate incomes\r\n    const addExpense = async (income) => {\r\n        const response = await axios.post(`${BASE_URL}add-expense`, income)\r\n            .catch((err) =>{\r\n                setError(err.response.data.message)\r\n            })\r\n        getExpenses()\r\n    }\r\n\r\n    const getExpenses = async () => {\r\n        const response = await axios.get(`${BASE_URL}get-expenses`)\r\n        setExpenses(response.data)\r\n        console.log(response.data)\r\n    }\r\n\r\n    const deleteExpense = async (id) => {\r\n        const res  = await axios.delete(`${BASE_URL}delete-expense/${id}`)\r\n        getExpenses()\r\n    }\r\n\r\n    const totalExpenses = () => {\r\n        let totalIncome = 0;\r\n        expenses.forEach((income) =>{\r\n            totalIncome = totalIncome + income.amount\r\n        })\r\n\r\n        return totalIncome;\r\n    }\r\n\r\n\r\n    const totalBalance = () => {\r\n        return totalIncome() - totalExpenses()\r\n    }\r\n\r\n    const transactionHistory = () => {\r\n        const history = [...incomes, ...expenses]\r\n        history.sort((a, b) => {\r\n            return new Date(b.createdAt) - new Date(a.createdAt)\r\n        })\r\n\r\n        return history.slice(0, 3)\r\n    }\r\n\r\n\r\n    return (\r\n        <GlobalContext.Provider value={{\r\n            addIncome,\r\n            getIncomes,\r\n            incomes,\r\n            deleteIncome,\r\n            expenses,\r\n            totalIncome,\r\n            addExpense,\r\n            getExpenses,\r\n            deleteExpense,\r\n            totalExpenses,\r\n            totalBalance,\r\n            transactionHistory,\r\n            error,\r\n            setError\r\n        }}>\r\n            {children}\r\n        </GlobalContext.Provider>\r\n    )\r\n}\r\n\r\nexport const useGlobalContext = () =>{\r\n    return useContext(GlobalContext)\r\n}\r\n"],"mappings":"gmBAAA,MAAOA,MAAK,EAAIC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CACnD,MAAOC,MAAK,KAAM,OAAO,CAGzB;AAAA,2CACA,GAAMC,SAAQ,CAAC,oDAAoD,CAGnE,GAAMC,cAAa,cAAGL,KAAK,CAACM,aAAa,EAAE,CAE3C,MAAO,IAAMC,eAAc,CAAG,QAAjBA,eAAc,MAAmB,IAAdC,SAAQ,MAARA,QAAQ,CAEpC,cAA8BN,QAAQ,CAAC,EAAE,CAAC,wCAAnCO,OAAO,eAAEC,UAAU,eAC1B,eAAgCR,QAAQ,CAAC,EAAE,CAAC,yCAArCS,QAAQ,eAAEC,WAAW,eAC5B,eAA0BV,QAAQ,CAAC,IAAI,CAAC,yCAAjCW,KAAK,eAAEC,QAAQ,eAEtB;AACA,GAAMC,UAAS,6FAAG,iBAAOC,MAAM,sKACAb,MAAK,CAACc,IAAI,WAAIb,QAAQ,eAAcY,MAAM,CAAC,QAA5DE,QAAQ,eACpBC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAEF,QAAQ,CAAC,CAAC,+EAG7BJ,QAAQ,CAAC,YAAII,QAAQ,CAACG,IAAI,CAACC,OAAO,CAAC,SAE3CC,UAAU,EAAE,oEACf,kBARKR,UAAS,6CAQd,CAED,GAAMQ,WAAU,6FAAG,6KACQpB,MAAK,CAACqB,GAAG,WAAIpB,QAAQ,gBAAc,QAApDc,QAAQ,gBACdR,UAAU,CAACQ,QAAQ,CAACG,IAAI,CAAC,CACzBF,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC,wDAC7B,kBAJKE,WAAU,2CAIf,CAED,GAAME,aAAY,6FAAG,kBAAOC,EAAE,sJACPvB,MAAK,CAACwB,MAAM,WAAIvB,QAAQ,0BAAiBsB,EAAE,EAAG,QAA3DE,GAAG,gBACTL,UAAU,EAAE,wDACf,kBAHKE,aAAY,8CAGjB,CAED,GAAMI,YAAW,CAAG,sBAAM,CACtB,GAAIA,YAAW,CAAG,CAAC,CACnBpB,OAAO,CAACqB,OAAO,CAAC,SAACd,MAAM,CAAI,CACvBa,WAAW,CAAGA,WAAW,CAAGb,MAAM,CAACe,MAAM,CAC7C,CAAC,CAAC,CAEF,MAAOF,YAAW,CACtB,CAAC,CAGD;AACA,GAAMG,WAAU,6FAAG,kBAAOhB,MAAM,2JACLb,MAAK,CAACc,IAAI,WAAIb,QAAQ,gBAAeY,MAAM,CAAC,CAC9DiB,KAAK,CAAC,SAACC,GAAG,CAAI,CACXpB,QAAQ,CAACoB,GAAG,CAAChB,QAAQ,CAACG,IAAI,CAACC,OAAO,CAAC,CACvC,CAAC,CAAC,QAHAJ,QAAQ,gBAIdiB,WAAW,EAAE,wDAChB,kBANKH,WAAU,8CAMf,CAED,GAAMG,YAAW,6FAAG,6KACOhC,MAAK,CAACqB,GAAG,WAAIpB,QAAQ,iBAAe,QAArDc,QAAQ,gBACdN,WAAW,CAACM,QAAQ,CAACG,IAAI,CAAC,CAC1BF,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC,wDAC7B,kBAJKc,YAAW,2CAIhB,CAED,GAAMC,cAAa,6FAAG,kBAAOV,EAAE,sJACRvB,MAAK,CAACwB,MAAM,WAAIvB,QAAQ,2BAAkBsB,EAAE,EAAG,QAA5DE,GAAG,gBACTO,WAAW,EAAE,wDAChB,kBAHKC,cAAa,8CAGlB,CAED,GAAMC,cAAa,CAAG,QAAhBA,cAAa,EAAS,CACxB,GAAIR,YAAW,CAAG,CAAC,CACnBlB,QAAQ,CAACmB,OAAO,CAAC,SAACd,MAAM,CAAI,CACxBa,WAAW,CAAGA,WAAW,CAAGb,MAAM,CAACe,MAAM,CAC7C,CAAC,CAAC,CAEF,MAAOF,YAAW,CACtB,CAAC,CAGD,GAAMS,aAAY,CAAG,QAAfA,aAAY,EAAS,CACvB,MAAOT,YAAW,EAAE,CAAGQ,aAAa,EAAE,CAC1C,CAAC,CAED,GAAME,mBAAkB,CAAG,QAArBA,mBAAkB,EAAS,CAC7B,GAAMC,QAAO,8BAAO/B,OAAO,qBAAKE,QAAQ,EAAC,CACzC6B,OAAO,CAACC,IAAI,CAAC,SAACC,CAAC,CAAEC,CAAC,CAAK,CACnB,MAAO,IAAIC,KAAI,CAACD,CAAC,CAACE,SAAS,CAAC,CAAG,GAAID,KAAI,CAACF,CAAC,CAACG,SAAS,CAAC,CACxD,CAAC,CAAC,CAEF,MAAOL,QAAO,CAACM,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAC9B,CAAC,CAGD,mBACI,KAAC,aAAa,CAAC,QAAQ,EAAC,KAAK,CAAE,CAC3B/B,SAAS,CAATA,SAAS,CACTQ,UAAU,CAAVA,UAAU,CACVd,OAAO,CAAPA,OAAO,CACPgB,YAAY,CAAZA,YAAY,CACZd,QAAQ,CAARA,QAAQ,CACRkB,WAAW,CAAXA,WAAW,CACXG,UAAU,CAAVA,UAAU,CACVG,WAAW,CAAXA,WAAW,CACXC,aAAa,CAAbA,aAAa,CACbC,aAAa,CAAbA,aAAa,CACbC,YAAY,CAAZA,YAAY,CACZC,kBAAkB,CAAlBA,kBAAkB,CAClB1B,KAAK,CAALA,KAAK,CACLC,QAAQ,CAARA,QACJ,CAAE,UACGN,QAAQ,EACY,CAEjC,CAAC,CAED,MAAO,IAAMuC,iBAAgB,CAAG,QAAnBA,iBAAgB,EAAQ,CACjC,MAAO9C,WAAU,CAACI,aAAa,CAAC,CACpC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}